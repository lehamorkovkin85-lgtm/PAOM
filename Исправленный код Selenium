{"cells":[{"cell_type":"code","source":["import time\n","from selenium import webdriver\n","from selenium.webdriver.common.by import By\n","from selenium.webdriver.support.ui import WebDriverWait\n","from selenium.webdriver.support import expected_conditions as EC\n","from selenium.webdriver.chrome.options import Options\n","\n","# 1. Установка опций (необязательно, но полезно)\n","# Если вы запускаете код на сервере без графического интерфейса, раскомментируйте строку ниже\n","# options = Options()\n","# options.add_argument('--headless')\n","\n","# 2. Инициализация браузера (использует автоматическое управление драйвером)\n","# Больше не нужно указывать executable_path, Selenium Manager сделает это сам.\n","try:\n","    browser = webdriver.Chrome() #, options=options) # Если используете options\n","\n","    browser.get('https://www.avito.ru/')\n","    print(\"Браузер успешно открыт.\")\n","\n","    # Ожидание загрузки страницы\n","    time.sleep(2)\n","\n","    # 3. ИСХОДНАЯ ПРОБЛЕМА: Динамический селектор\n","    # Классы вроде \"css-1s2u85o\" часто меняются.\n","    # Замените 'ПОТЕНЦИАЛЬНО_НАДЕЖНЫЙ_СЕЛЕКТОР' на реальный ID, name,\n","    # или XPath элемента, который вы хотите нажать.\n","\n","    # ПРИМЕР: Если вы пытаетесь нажать на кнопку поиска (предположим, у нее есть ID \"search-button\")\n","    RELIABLE_SELECTOR = (By.ID, \"search-button\") # <-- Замените на реальный селектор!\n","\n","    # Если вы хотите нажать на первый элемент с классом, который был в вашем коде,\n","    # но это не рекомендуется, если он динамический:\n","    # RELIABLE_SELECTOR = (By.CLASS_NAME, \"css-1s2u85o\")\n","\n","    print(\"Ожидание появления элемента...\")\n","\n","    element = WebDriverWait(browser, 20).until(\n","        # Замените 'RELIABLE_SELECTOR' на селектор, который вы найдете\n","        EC.presence_of_element_located(RELIABLE_SELECTOR)\n","    )\n","\n","    print(f\"Элемент найден: {element.tag_name}, попытка нажатия...\")\n","    element.click()\n","    print(\"Нажатие выполнено успешно.\")\n","\n","    time.sleep(5) # Оставьте открытым на 5 секунд, чтобы увидеть результат\n","\n","except Exception as e:\n","    print(\"\\n--- ПРОИЗОШЛА ОШИБКА ---\")\n","    print(f\"Тип ошибки: {type(e).__name__}\")\n","    print(f\"Подробности: {e}\")\n","    print(\"Проверьте, что селектор элемента верен и что драйвер Chrome обновился автоматически.\")\n","\n","finally:\n","    # 4. Всегда закрывайте браузер\n","    if 'browser' in locals():\n","        print(\"Закрытие браузера.\")\n","        browser.quit()"],"outputs":[{"output_type":"error","ename":"ModuleNotFoundError","evalue":"No module named 'selenium'","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mModuleNotFoundError\u001b[0m                       Traceback (most recent call last)","\u001b[0;32m/tmp/ipython-input-3605712663.py\u001b[0m in \u001b[0;36m<cell line: 0>\u001b[0;34m()\u001b[0m\n\u001b[1;32m      1\u001b[0m \u001b[0;32mimport\u001b[0m \u001b[0mtime\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 2\u001b[0;31m \u001b[0;32mfrom\u001b[0m \u001b[0mselenium\u001b[0m \u001b[0;32mimport\u001b[0m \u001b[0mwebdriver\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      3\u001b[0m \u001b[0;32mfrom\u001b[0m \u001b[0mselenium\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mwebdriver\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mcommon\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mby\u001b[0m \u001b[0;32mimport\u001b[0m \u001b[0mBy\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      4\u001b[0m \u001b[0;32mfrom\u001b[0m \u001b[0mselenium\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mwebdriver\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msupport\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mui\u001b[0m \u001b[0;32mimport\u001b[0m \u001b[0mWebDriverWait\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      5\u001b[0m \u001b[0;32mfrom\u001b[0m \u001b[0mselenium\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mwebdriver\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0msupport\u001b[0m \u001b[0;32mimport\u001b[0m \u001b[0mexpected_conditions\u001b[0m \u001b[0;32mas\u001b[0m \u001b[0mEC\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mModuleNotFoundError\u001b[0m: No module named 'selenium'","","\u001b[0;31m---------------------------------------------------------------------------\u001b[0;32m\nNOTE: If your import is failing due to a missing package, you can\nmanually install dependencies using either !pip or !apt.\n\nTo view examples of installing some common dependencies, click the\n\"Open Examples\" button below.\n\u001b[0;31m---------------------------------------------------------------------------\u001b[0m\n"],"errorDetails":{"actions":[{"action":"open_url","actionText":"Open Examples","url":"/notebooks/snippets/importing_libraries.ipynb"}]}}],"execution_count":1,"metadata":{"id":"Y11WjlnDPo8p","executionInfo":{"status":"error","timestamp":1763289513867,"user_tz":-180,"elapsed":14,"user":{"displayName":"Алексей Морковкин","userId":"05400877673954392932"}},"outputId":"18eeb432-faeb-4484-bcf0-4fb640756a27","colab":{"base_uri":"https://localhost:8080/","height":383}}}],"metadata":{"colab":{"provenance":[]},"kernelspec":{"display_name":"Python 3","name":"python3"}},"nbformat":4,"nbformat_minor":0}