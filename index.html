<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAOM –£—á—ë–±–∞ - –ò–ò-–ü–æ–º–æ—â–Ω–∏–∫ (API)</title>
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/12.3.2/markdown-it.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css" crossorigin="anonymous">
    
    <!-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Tailwind –¥–ª—è –∑–µ–ª–µ–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ –∏ —à—Ä–∏—Ñ—Ç–∞ Inter -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'paom-dark': '#2E7D32', // –¢–µ–º–Ω—ã–π –∑–µ–ª–µ–Ω—ã–π (#2E7D32)
                        'paom-main': '#4CAF50', // –û—Å–Ω–æ–≤–Ω–æ–π –∑–µ–ª–µ–Ω—ã–π (#4CAF50)
                        'paom-light': '#81C784', // –°–≤–µ—Ç–ª—ã–π –∑–µ–ª–µ–Ω—ã–π (#81C784)
                        'paom-bg': '#F0FFF0', // –û—á–µ–Ω—å —Å–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω
                        'citation-color': '#007BFF', // –°–∏–Ω–∏–π –¥–ª—è —Ü–∏—Ç–∞—Ç
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è */
        html, body {
            height: 100%;
            margin: 0;
        }
        #app-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 2rem 1rem;
            background-color: var(--tw-colors-paom-bg);
            box-sizing: border-box;
        }
        @media (min-width: 768px) {
            #app-container {
                justify-content: center;
            }
        }
        .paom-card {
            background-color: white;
            padding: 2rem;
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(46, 125, 50, 0.2);
            width: 100%;
            max-width: 650px;
            transition: all 0.5s ease-in-out;
            opacity: 0;
            transform: translateY(20px);
        }
        .paom-card.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .paom-button {
            transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s;
            cursor: pointer;
        }
        .paom-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(46, 125, 50, 0.4);
        }
        .paom-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(46, 125, 50, 0.3);
        }
        /* –°—Ç–∏–ª—å –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –∏—Å—Ç–æ—Ä–∏–∏ */
        .message-user {
            background-color: #e6f7e6; /* –û—á–µ–Ω—å —Å–≤–µ—Ç–ª—ã–π –∑–µ–ª–µ–Ω—ã–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
            border-radius: 0.75rem 0.75rem 0.1rem 0.75rem;
        }
        .message-ai {
            background-color: #d1e7d1; /* –°–≤–µ—Ç–ª—ã–π –∑–µ–ª–µ–Ω—ã–π –¥–ª—è –ò–ò */
            border-radius: 0.75rem 0.75rem 0.75rem 0.1rem;
        }
        /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ñ–æ—Ä–º—É–ª KaTeX */
        .katex-display {
            margin-top: 0.5em;
            margin-bottom: 0.5em;
            overflow-x: auto;
            overflow-y: hidden;
            padding: 0.5em 0;
            background-color: #f7fdf7;
            border-radius: 0.5rem;
        }
        /* –£–±–∏—Ä–∞–µ–º —Å—Ç–∏–ª–∏ —Ü–∏—Ç–∞—Ç, —Ç–∞–∫ –∫–∞–∫ Grounding –æ—Ç–∫–ª—é—á–µ–Ω */
        .citations {
            display: none;
        }
    </style>
</head>
<body>
    <div id="app-container">
        <div id="app-content" class="paom-card">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å JS -->
        </div>
    </div>

    <script>
        // --- –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ---
        const APP_CONTENT = document.getElementById('app-content');
        
        // –í–ù–ò–ú–ê–ù–ò–ï: –ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –õ–û–ö–ê–õ–¨–ù–û –Ω–∞ —Å–≤–æ–µ–º –ü–ö, 
        // –í–ê–ú –ù–ï–û–ë–•–û–î–ò–ú–û –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π API –∫–ª—é—á (Gemini API)
        // –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –µ–≥–æ –ó–î–ï–°–¨, –∑–∞–º–µ–Ω–∏–≤ –ø—É—Å—Ç—ã–µ –∫–∞–≤—ã—á–∫–∏. 
        // –ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á –º–æ–∂–Ω–æ –≤ Google AI Studio.
        // –ü—Ä–∏–º–µ—Ä: const API_KEY = "YOUR_ACTUAL_API_KEY_HERE";
        const API_KEY = "AIzaSyDC5DYIJdEDnRurYnj0eDgoVwITXGhsBEw"; 
        
        // –í —Å—Ä–µ–¥–µ Canvas —ç—Ç–æ—Ç –∫–ª—é—á –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
        // –ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É 403 –ø—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º –∑–∞–ø—É—Å–∫–µ, –≤—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ —Å–≤–æ–π –∫–ª—é—á.

        const MODEL_NAME = 'gemini-2.5-flash-preview-09-2025';
        const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/${MODEL_NAME}:generateContent?key=${API_KEY}`;
        
        // –û–±—ä–µ–∫—Ç –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ Markdown
        const md = window.markdownit({
            html: false,
            linkify: true,
            typographer: true
        });

        // –§—É–Ω–∫—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π LaTeX –∏ Markdown
        function renderMarkdown(markdownText) {
            // –ó–∞–º–µ–Ω–∞ –æ–¥–∏–Ω–∞—Ä–Ω—ã—Ö $...$ –Ω–∞ span.katex-inline –¥–ª—è inline —Ñ–æ—Ä–º—É–ª
            let html = markdownText.replace(/\$(.*?)\$/g, (match, p1) => {
                try {
                    return katex.renderToString(p1, { throwOnError: false });
                } catch (e) {
                    return match; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç, –µ—Å–ª–∏ –æ—à–∏–±–∫–∞
                }
            });

            // –ó–∞–º–µ–Ω–∞ –¥–≤–æ–π–Ω—ã—Ö $$...$$ –Ω–∞ div.katex-display –¥–ª—è –±–ª–æ—á–Ω—ã—Ö —Ñ–æ—Ä–º—É–ª
            html = html.replace(/\$\$(.*?)\$\$/gs, (match, p1) => {
                try {
                    return katex.renderToString(p1, { displayMode: true, throwOnError: false });
                } catch (e) {
                    return match;
                }
            });

            // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ Markdown
            return md.render(html);
        }

        const SUBJECTS = [
            { id: 'GEOGRAPHY', name: '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', icon: 'üåç' },
            { id: 'RUSSIAN', name: '–†—É—Å—Å–∫–∏–π –Ø–∑—ã–∫', icon: 'üìù' },
            { id: 'MATH', name: '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', icon: 'üìê' },
            { id: 'HISTORY', name: '–ò—Å—Ç–æ—Ä–∏—è', icon: 'üìú' },
            { id: 'SCIENCE', name: '–ï—Å—Ç–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ', icon: 'üî¨' },
            { id: 'BIOLOGY', name: '–ë–∏–æ–ª–æ–≥–∏—è', icon: 'üåø' },
            { id: 'LITERATURE', name: '–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', icon: 'üìö' },
            { id: 'ENGLISH', name: '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π –Ø–∑—ã–∫', icon: 'üá¨üáß' },
        ];

        // --- –õ–æ–≥–∏–∫–∞ LocalStorage (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) ---

        function loadUsername() {
            return localStorage.getItem('paom_username');
        }

        function saveUsername(name) {
            localStorage.setItem('paom_username', name);
        }

        function loadHistory(subjectId) {
            const key = `paom_history_${subjectId}`;
            try {
                const history = localStorage.getItem(key);
                // –ò—Å—Ç–æ—á–Ω–∏–∫–∏ (sources) —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º, —Ç–∞–∫ –∫–∞–∫ Grounding –æ—Ç–∫–ª—é—á–µ–Ω
                return history ? JSON.parse(history) : [];
            } catch (e) {
                console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏—Å—Ç–æ—Ä–∏–∏:", e);
                return [];
            }
        }

        function saveHistory(subjectId, history) {
            const key = `paom_history_${subjectId}`;
            try {
                localStorage.setItem(key, JSON.stringify(history));
            } catch (e) {
                console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏:", e);
            }
        }

        function addHistoryEntry(subjectId, userQuestion, aiResponse) {
            const history = loadHistory(subjectId);
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, —á—Ç–æ–±—ã –Ω–µ –ª–æ–º–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
            history.push({ user: userQuestion, ai: aiResponse, sources: [] });
            saveHistory(subjectId, history);
        }

        // --- –õ–æ–≥–∏–∫–∞ Gemini API (–ë–µ–∑ Grounding) ---

        function getSystemInstruction(subjectId) {
            const subjectName = SUBJECTS.find(s => s.id === subjectId)?.name || '—à–∫–æ–ª—å–Ω—ã–π –ø—Ä–µ–¥–º–µ—Ç';
            const extraInstruction = {
                'MATH': "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π LaTeX –¥–ª—è –≤—Å–µ—Ö —Ñ–æ—Ä–º—É–ª –∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π: $inline$ –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –∏ $$block$$ –¥–ª—è –±–ª–æ—á–Ω—ã—Ö. –ë—É–¥—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω—ã–º.",
                'RUSSIAN': "–û–±—Ä–∞—Ç–∏ –æ—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—é, –≥—Ä–∞–º–º–∞—Ç–∏–∫—É –∏ –ø—É–Ω–∫—Ç—É–∞—Ü–∏—é. –†–∞–∑—ä—è—Å–Ω—è–π –ø—Ä–∞–≤–∏–ª–∞ —á–µ—Ç–∫–æ –∏ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏.",
                'HISTORY': "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞–π –¥–∞—Ç—ã –∏ –∏–º–µ–Ω–∞, –∞ —Ç–∞–∫–∂–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç. –û—Ç–≤–µ—á–∞–π –ø–æ–¥—Ä–æ–±–Ω–æ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ.",
                'SCIENCE': "–î–ª—è —Ñ–∏–∑–∏–∫–∏ –∏ —Ö–∏–º–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π LaTeX –¥–ª—è —Ñ–æ—Ä–º—É–ª –∏ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏–π. –û–±—ä—è—Å–Ω—è–π —Å–ª–æ–∂–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º. –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, –¥–æ–±–∞–≤—å –≤ –∫–æ–Ω—Ü–µ –æ—Ç–≤–µ—Ç–∞ —Ç–µ–≥  –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.",
                'BIOLOGY': "–û–±—ä—è—Å–Ω—è–π –±–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã, —Ç–µ—Ä–º–∏–Ω—ã –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é. –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, –¥–æ–±–∞–≤—å –≤ –∫–æ–Ω—Ü–µ –æ—Ç–≤–µ—Ç–∞ —Ç–µ–≥  –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏.",
                'LITERATURE': "–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è, –¥–∞–≤–∞–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –≥–µ—Ä–æ—è–º –∏ –æ–±—ä—è—Å–Ω—è–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã (–∂–∞–Ω—Ä—ã, —Ç—Ä–æ–ø—ã).",
                'ENGLISH': "–î–∞–≤–∞–π –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ, –Ω–æ –æ–±—ä—è—Å–Ω—è–π –≥—Ä–∞–º–º–∞—Ç–∏–∫—É –∏ –ª–µ–∫—Å–∏–∫—É –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏, –∏—Å–ø–æ–ª—å–∑—É—è —Ç–µ–≥ `code`."
            }[subjectId] || "–û—Ç–≤–µ—á–∞–π –ø–æ —Å—É—â–µ—Å—Ç–≤—É, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ–∞–∫—Ç—ã –∏ —Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.";

            return `
                –¢—ã ‚Äî –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ PAOM –£—á—ë–±–∞, –≤—ã—Å–æ–∫–æ–∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∏ —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É "${subjectName}".
                –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –¥–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω—ã–π, –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∏ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å —É—á–µ–Ω–∏–∫–∞.
                –¢–≤–æ–π —Ç–æ–Ω: –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π, –∞–∫–∞–¥–µ–º–∏—á–Ω—ã–π, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–π.
                ${extraInstruction}
                –û—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª–Ω—ã–º–∏, –Ω–æ –Ω–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–º–∏ (–Ω–µ –±–æ–ª–µ–µ 4-5 –∞–±–∑–∞—Ü–µ–≤).
            `;
        }

        /**
         * –í—ã–ø–æ–ª–Ω—è–µ—Ç API-–∑–∞–ø—Ä–æ—Å –∫ Gemini –±–µ–∑ Google Search Grounding.
         * @param {string} userQuery –í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
         * @param {string} systemInstruction –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –º–æ–¥–µ–ª–∏.
         * @returns {Promise<{text: string}>} –û—Ç–≤–µ—Ç –º–æ–¥–µ–ª–∏.
         */
        async function fetchAiResponse(userQuery, systemInstruction) {
            // –ï—Å–ª–∏ API_KEY –ø—É—Å—Ç –ø—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º –∑–∞–ø—É—Å–∫–µ, —ç—Ç–æ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–µ 403.
            if (API_KEY === "") {
                // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç –ª–∏—à–Ω–∏–µ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å –ø—É—Å—Ç—ã–º –∫–ª—é—á–æ–º
                console.error("API Key is empty. If running locally, please insert your key.");
            }
            
            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                // –ò–°–ö–õ–Æ–ß–ê–ï–ú tools: [{ "google_search": {} }]
                systemInstruction: {
                    parts: [{ text: systemInstruction }]
                },
            };

            const maxRetries = 5;
            let delay = 1000;
            let lastError = null;

            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(API_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        // –û–±—Ä–∞–±–æ—Ç–∫–∞ 403 (Forbidden) –∏ 429 (Rate Limit)
                        if (response.status === 403) {
                             // –û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –±–æ–ª—å—à–µ–π —è—Å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º –∑–∞–ø—É—Å–∫–µ
                            throw new Error(`403: –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω. –ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —Ñ–∞–π–ª –ª–æ–∫–∞–ª—å–Ω–æ, –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—Å—Ç–∞–≤–∏—Ç—å –ª–∏—á–Ω—ã–π API-–∫–ª—é—á –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é 'const API_KEY'.`);
                        }
                        if (response.status === 429 && i < maxRetries - 1) {
                            await new Promise(resolve => setTimeout(resolve, delay));
                            delay *= 2;
                            continue;
                        }
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const result = await response.json();
                    const candidate = result.candidates?.[0];

                    if (candidate && candidate.content?.parts?.[0]?.text) {
                        return { text: candidate.content.parts[0].text }; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç

                    } else {
                        return { text: "–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –Ω–µ —Å–º–æ–≥ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –≤–æ–ø—Ä–æ—Å." };
                    }
                } catch (error) {
                    lastError = error;
                    if (error.message.includes('403') || i === maxRetries - 1) {
                        throw new Error(`–û—à–∏–±–∫–∞ API –ø–æ—Å–ª–µ ${i + 1} –ø–æ–ø—ã—Ç–æ–∫: ${lastError.message}`);
                    }
                    await new Promise(resolve => setTimeout(resolve, delay));
                    delay *= 2;
                }
            }
            throw new Error("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç –ò–ò.");
        }


        // --- –§—É–Ω–∫—Ü–∏–∏ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π (SPA Routing) ---

        function transitionView(content, callback = () => {}) {
            APP_CONTENT.classList.remove('visible');
            APP_CONTENT.classList.add('opacity-0', 'translate-y-5');

            setTimeout(() => {
                APP_CONTENT.innerHTML = content;
                window.scrollTo(0, 0);

                APP_CONTENT.classList.add('visible');
                APP_CONTENT.classList.remove('opacity-0', 'translate-y-5');

                callback();
            }, 500);
        }

        function renderStartScreen() {
            const username = loadUsername();

            const content = `
                <div class="text-center">
                    <div class="text-paom-dark mb-4">
                        <!-- –õ–æ–≥–æ—Ç–∏–ø PAOM -->
                        <svg class="w-16 h-16 mx-auto" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="12" r="10" fill="#4CAF50"/>
                            <path d="M12 4C8.686 4 6 6.686 6 10C6 11.536 6.545 12.98 7.472 14.155L14.155 7.472C12.98 6.545 11.536 6 10 6C8.5 6 7.11 6.5 6 7.37V4H4V12H12V10C12 7.79 10.21 6 8 6C6.72 6 5.56 6.53 4.71 7.37L12 14.65V18H18V12H14.65L18 8.65V18H14V14.65L7.37 8C7.47 7.9 7.6 7.8 7.7 7.7L14.65 14.65L18 11.3V4H16V7.37L9 14.37V10C9 8.34 10.34 7 12 7V4H9V12H15V8.37L18 11.3V18H12V14.65L8.37 18.28C9.55 19.34 10.99 20 12.5 20C15.814 20 18.5 17.314 18.5 14V10C18.5 6.686 15.814 4 12.5 4H12Z" fill="white"/>
                        </svg>
                        <h1 class="text-3xl font-extrabold mt-2">PAOM –£—á—ë–±–∞</h1>
                    </div>
                    <h2 class="text-2xl font-semibold text-paom-dark mb-6">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ PAOM –£—á—ë–±–∞!</h2>

                    <p class="text-gray-600 mb-6">–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ –ø–æ —à–∫–æ–ª—å–Ω—ã–º –ø—Ä–µ–¥–º–µ—Ç–∞–º, —Ç–µ–ø–µ—Ä—å –Ω–∞ –±–∞–∑–µ Gemini.</p>

                    <div class="space-y-3 mb-8 text-left max-w-sm mx-auto">
                        <p class="flex items-start text-paom-dark">
                            <span class="text-xl mr-3">‚úÖ</span>
                            –£–¥–æ–±–Ω—ã–π –∏ –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                        </p>
                        <p class="flex items-start text-paom-dark">
                            <span class="text-xl mr-3">üß†</span>
                            –í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç Gemini
                        </p>
                        <p class="flex items-start text-paom-dark">
                            <span class="text-xl mr-3">‚ö°</span>
                            –û—Ç–≤–µ—Ç—ã —Å —Ñ–æ—Ä–º—É–ª–∞–º–∏ (LaTeX)
                        </p>
                        <p class="flex items-start text-paom-dark">
                            <span class="text-xl mr-3">üíæ</span>
                            –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
                        </p>
                    </div>

                    <div class="space-y-4">
                        <input
                            id="username-input"
                            type="text"
                            placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è"
                            value="${username || ''}"
                            class="w-full px-4 py-3 border border-paom-light rounded-lg focus:ring-2 focus:ring-paom-main focus:border-paom-main outline-none text-lg"
                        />
                        <button
                            id="start-button"
                            onclick="handleStartLearning()"
                            class="paom-button w-full bg-paom-main text-white font-bold py-3 rounded-xl shadow-lg shadow-paom-light hover:bg-paom-dark"
                        >
                            –ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ
                        </button>
                    </div>
                </div>
            `;
            transitionView(content, () => {
                const input = document.getElementById('username-input');
                document.getElementById('start-button').addEventListener('click', handleStartLearning);
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') handleStartLearning();
                });
                if (!username) input.focus();
            });
        }

        function handleStartLearning() {
            const input = document.getElementById('username-input');
            const username = input.value.trim();

            if (username.length > 1) {
                saveUsername(username);
                renderMainMenu();
            } else {
                input.focus();
                input.classList.add('border-red-500', 'ring-red-500');
                setTimeout(() => input.classList.remove('border-red-500', 'ring-red-500'), 1500);
            }
        }

        function logoutUser() {
            localStorage.removeItem('paom_username');
            renderStartScreen();
        }

        function renderMainMenu() {
            const username = loadUsername();
            if (!username) {
                renderStartScreen();
                return;
            }

            const subjectButtons = SUBJECTS.map(subj => `
                <button
                    onclick="renderSubjectScreen('${subj.id}')"
                    class="paom-button flex items-center justify-between p-4 bg-paom-light text-paom-dark font-semibold rounded-xl hover:bg-paom-main hover:text-white shadow-md w-full text-left"
                >
                    <span class="text-2xl mr-3">${subj.icon}</span>
                    <span class="flex-grow text-lg">${subj.name}</span>
                    <span class="text-xl font-bold">‚Üí</span>
                </button>
            `).join('');

            const content = `
                <header class="mb-8 text-center">
                    <h1 class="text-3xl font-bold text-paom-dark">–ü—Ä–∏–≤–µ—Ç, ${username}! üëã</h1>
                    <p class="text-gray-600 mt-2">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ —Å –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫–æ–º.</p>
                </header>
                <div class="space-y-4">
                    ${subjectButtons}
                </div>
                <button
                    onclick="logoutUser()"
                    class="paom-button mt-8 w-full bg-gray-200 text-gray-700 font-medium py-2 rounded-xl hover:bg-gray-300"
                >
                    –°–º–µ–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                </button>
            `;
            transitionView(content);
        }

        function renderSubjectScreen(subjectId) {
            const subject = SUBJECTS.find(s => s.id === subjectId);
            if (!subject) {
                renderMainMenu();
                return;
            }

            const username = loadUsername();
            const history = loadHistory(subjectId);

            const renderHistory = (history) => history.map(entry => `
                <div class="mb-4 space-y-2">
                    <!-- –ó–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                    <div class="flex justify-end">
                        <div class="message-user p-3 max-w-[85%] sm:max-w-[70%] text-gray-800 shadow-sm">
                            <p class="font-medium text-sm text-paom-dark mb-1">–í—ã:</p>
                            <p>${entry.user}</p>
                        </div>
                    </div>
                    <!-- –û—Ç–≤–µ—Ç –ò–ò -->
                    <div class="flex justify-start">
                        <div class="message-ai p-3 max-w-[85%] sm:max-w-[70%] text-gray-800 shadow-sm">
                            <p class="font-medium text-sm text-paom-dark mb-1">–ò–ò-–ü–æ–º–æ—â–Ω–∏–∫:</p>
                            <div class="markdown-content">
                                ${renderMarkdown(entry.ai)}
                            </div>
                            <!-- –¶–∏—Ç–∞—Ç—ã —É–±—Ä–∞–Ω—ã, —Ç–∞–∫ –∫–∞–∫ Grounding –æ—Ç–∫–ª—é—á–µ–Ω -->
                        </div>
                    </div>
                </div>
            `).join('');

            const content = `
                <button
                    onclick="renderMainMenu()"
                    class="paom-button flex items-center text-paom-main hover:text-paom-dark font-medium mb-6 p-2 rounded-lg -ml-2"
                >
                    <span class="text-xl mr-2">‚Üê</span>
                    –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é
                </button>

                <h1 class="text-2xl font-bold text-paom-dark mb-2">${subject.icon} ${subject.name}</h1>
                <p class="text-gray-600 mb-6">–ó–∞–¥–∞–π—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å –ø–æ ${subject.name.toLowerCase()} –Ω–∏–∂–µ, ${username}.</p>

                <!-- –û–±–ª–∞—Å—Ç—å –≤—ã–≤–æ–¥–∞ –∏—Å—Ç–æ—Ä–∏–∏ -->
                <div id="history-output" class="mb-8 w-full h-96 overflow-y-auto border border-paom-light p-4 rounded-xl bg-paom-bg space-y-4">
                    ${history.length > 0 ? renderHistory(history) : '<p class="text-gray-500 text-center py-10">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞. –ó–∞–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å!</p>'}
                </div>

                <!-- –û–±–ª–∞—Å—Ç—å –≤–≤–æ–¥–∞ –≤–æ–ø—Ä–æ—Å–∞ -->
                <div class="flex flex-col sm:flex-row w-full space-y-3 sm:space-y-0 sm:space-x-3">
                    <textarea
                        id="question-input"
                        rows="2"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å..."
                        class="flex-grow w-full sm:w-auto px-4 py-2 border border-paom-light rounded-lg focus:ring-2 focus:ring-paom-main focus:border-paom-main outline-none resize-none"
                    ></textarea>
                    <button
                        id="submit-question"
                        onclick="handleSubmitQuestion('${subjectId}')"
                        class="paom-button bg-paom-main text-white font-bold py-2 px-6 rounded-xl shadow-md shadow-paom-light hover:bg-paom-dark flex-shrink-0"
                    >
                        –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç
                    </button>
                </div>

                <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
                <div id="loading-indicator" class="hidden mt-4 text-paom-dark font-medium">
                    –ò–ò –¥—É–º–∞–µ—Ç... üß†
                </div>
                <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—à–∏–±–∫–∏ (—Å–∫—Ä—ã—Ç–æ) -->
                <div id="error-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center p-4 z-50">
                    <div class="bg-white p-6 rounded-lg shadow-xl max-w-sm w-full text-center">
                        <h3 class="text-xl font-bold text-red-600 mb-3">–û—à–∏–±–∫–∞!</h3>
                        <p id="error-message" class="text-gray-700 mb-4"></p>
                        <button onclick="document.getElementById('error-modal').classList.add('hidden')" class="paom-button bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600">
                            –ó–∞–∫—Ä—ã—Ç—å
                        </button>
                    </div>
                </div>
            `;

            transitionView(content, () => {
                const input = document.getElementById('question-input');
                input.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        handleSubmitQuestion(subjectId);
                    }
                });
                const historyDiv = document.getElementById('history-output');
                historyDiv.scrollTop = historyDiv.scrollHeight;
                input.focus();
            });
        }

        async function handleSubmitQuestion(subjectId) {
            const input = document.getElementById('question-input');
            const button = document.getElementById('submit-question');
            const loading = document.getElementById('loading-indicator');
            const historyOutput = document.getElementById('history-output');
            const errorModal = document.getElementById('error-modal');
            const errorMessageDiv = document.getElementById('error-message');

            const userQuestion = input.value.trim();
            if (!userQuestion) return;

            // 1. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –ø–æ–∫–∞–∑ –∑–∞–≥—Ä—É–∑–∫–∏
            input.disabled = true;
            button.disabled = true;
            button.classList.add('opacity-70');
            loading.classList.remove('hidden');

            // 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ "—Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" –∏ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞ –ò–ò –≤ UI
            const newEntryHTML = `
                <div class="mb-4 space-y-2 current-query">
                    <div class="flex justify-end">
                        <div class="message-user p-3 max-w-[85%] sm:max-w-[70%] text-gray-800 shadow-sm">
                            <p class="font-medium text-sm text-paom-dark mb-1">–í—ã:</p>
                            <p>${userQuestion}</p>
                        </div>
                    </div>
                    <div class="flex justify-start ai-placeholder">
                        <div class="p-3 max-w-[85%] sm:max-w-[70%] text-gray-500">
                             <span class="animate-pulse">...</span>
                        </div>
                    </div>
                </div>
            `;
            historyOutput.innerHTML = historyOutput.innerHTML.replace(
                '<p class="text-gray-500 text-center py-10">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞. –ó–∞–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å!</p>',
                ''
            ) + newEntryHTML;
            
            historyOutput.scrollTop = historyOutput.scrollHeight;
            input.value = '';

            try {
                // 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –≤—ã–∑–æ–≤ API
                const systemInstruction = getSystemInstruction(subjectId);
                // –ó–∞–ø—Ä–æ—Å —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ text
                const { text: aiResponse } = await fetchAiResponse(userQuestion, systemInstruction);

                // 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI —Å —Ä–µ–∞–ª—å–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º
                const currentQuery = historyOutput.querySelector('.current-query');
                const placeholder = currentQuery ? currentQuery.querySelector('.ai-placeholder') : null;

                if (placeholder) {
                    placeholder.outerHTML = `
                        <div class="flex justify-start">
                            <div class="message-ai p-3 max-w-[85%] sm:max-w-[70%] text-gray-800 shadow-sm">
                                <p class="font-medium text-sm text-paom-dark mb-1">–ò–ò-–ü–æ–º–æ—â–Ω–∏–∫:</p>
                                <div class="markdown-content">
                                    ${renderMarkdown(aiResponse)}
                                </div>
                            </div>
                        </div>
                    `;
                }
                if (currentQuery) {
                    currentQuery.classList.remove('current-query');
                }

                // 5. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage (–±–µ–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
                addHistoryEntry(subjectId, userQuestion, aiResponse);

            } catch (error) {
                console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞ –ò–ò:", error);
                
                let userFriendlyError;
                if (error.message.includes('403')) {
                    // –û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                    userFriendlyError = "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω. –ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —Ñ–∞–π–ª –ª–æ–∫–∞–ª—å–Ω–æ, –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—Å—Ç–∞–≤–∏—Ç—å –ª–∏—á–Ω—ã–π API-–∫–ª—é—á –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é 'const API_KEY'.";
                } else if (error.message.includes('429')) {
                    userFriendlyError = "–ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ–º–Ω–æ–≥–æ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.";
                } else {
                    userFriendlyError = `–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É. –î–µ—Ç–∞–ª–∏: ${error.message}`;
                }

                // –ü–æ–∫–∞–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –æ—à–∏–±–∫–æ–π
                errorMessageDiv.textContent = userFriendlyError;
                errorModal.classList.remove('hidden');
                errorModal.classList.add('flex');

                // –ó–∞–º–µ–Ω–∞ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ –≤ —á–∞—Ç–µ
                const placeholder = historyOutput.querySelector('.ai-placeholder');
                if (placeholder) {
                    placeholder.innerHTML = `<div class="p-3 text-red-500">‚ùå –û—à–∏–±–∫–∞: ${userFriendlyError}</div>`;
                }

            } finally {
                // 6. –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ —Å–∫—Ä—ã—Ç–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
                input.disabled = false;
                button.disabled = false;
                button.classList.remove('opacity-70');
                loading.classList.add('hidden');
                input.focus();
                historyOutput.scrollTop = historyOutput.scrollHeight; // –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞
            }
        }

        // --- –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ ---
        window.onload = function() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏ —Ä–µ–Ω–¥–µ—Ä–∏–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —ç–∫—Ä–∞–Ω
            const username = loadUsername();
            if (username) {
                renderMainMenu();
            } else {
                renderStartScreen();
            }
            // –î–µ–ª–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫—É –≤–∏–¥–∏–º–æ–π –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
            APP_CONTENT.classList.add('visible');
        };
    </script>
</body>
</html>
